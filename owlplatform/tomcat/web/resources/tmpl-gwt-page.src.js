var XJ = XJ || {};eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('(4($){$.k.8=4(o){7 p={B:1A,1h:\'1B\',1j:\'l\',S:\'.1C\',I:F,X:\'\',v:F,1a:F,q:F,N:F,D:F,T:F};5 3.j(4(){2(3.9)5 H[3.9].c=$.12({},H[3.9].c,o);s++;3.9=s;H[s]={c:$.12(p,$.8.16,o),a:F,w:$(3).1g(\'1k\'+s),s:s};2(p.S)$(3).W(p.S)})};$.k.l=4(e){5 U(3,e,\'Q\')};$.k.W=4(e){5 U(3,e,\'V\')};$.k.V=4(t){5 3.j(4(){t=t||G.1d;$.8.1n(3.9,t)})};$.k.Q=4(t){5 3.j(4(){t=t||G.1d;$.8.11(3.9,t)})};$.8={1c:{},1n:4(s,t){7 h=H[s],c=h.c,g=\'.\'+c.1j,z=(1z(h.w.d(\'z-P\'))),z=(z>0)?z:1y,o=$(\'<19></19>\').d({C:\'b%\',K:\'b%\',1e:\'1v\',1w:0,1x:0,\'z-P\':z-1,Y:c.B/b});2(h.a)5 F;h.t=t;h.a=1D;h.w.d(\'z-P\',z);2(c.1a){2(!A[0])L(\'1E\');A.14(s)}n 2(c.B>0)h.w.l(o);n o=F;h.o=(o)?o.1g(c.1h).1K(\'O\'):F;2(J){$(\'M,O\').d({C:\'b%\',K:\'b%\'});2(o){o=o.d({1e:\'1u\'})[0];R(7 y 1m{1L:1,1J:1})o.1b.1I(y.1F(),"(1l=(E.1G.17"+y+" || E.O.17"+y+"))+\'1H\'")}}2(c.I){7 r=c.v||h.w,u=c.I,r=(1M r==\'1q\')?$(r,h.w):$(r),u=(u.1s(0,1)==\'@\')?$(t).1o(u.1r(1)):u;r.M(c.X).1p(u,4(){2(c.T)c.T.1t(3,h);2(g)h.w.l($(g,h.w));e(h)})}n 2(g)h.w.l($(g,h.w));2(c.q&&h.o)h.w.1U(\'<1f 27="10\'+h.w[0].9+\'"></1f>\').25(h.o);(c.N)?c.N(h):h.w.23();e(h);5 F},11:4(s){7 h=H[s];2(!h.a)5 F;h.a=F;2(A[0]){A.8();2(!A[0])L(\'29\')}2(h.c.q&&h.o)$(\'#10\'+h.w[0].9).24(h.w).18();2(h.c.D)h.c.D(h);n{h.w.28();2(h.o)h.o.18()}5 F},16:{}};7 s=0,H=$.8.1c,A=[],J=$.15.2a&&($.15.1N=="6.0")&&!G.26,F=13,i=$(\'<x 21="1S:13;E.1T(\\\'\\\');" 1R="8"></x>\').d({Y:0}),e=4(h){2(J)2(h.o)h.o.M(\'<p 1b="K:b%;C:b%"/>\').1i(i);n 2(!$(\'x.8\',h.w)[0])h.w.1i(i);f(h)},f=4(h){1Q{$(\':1O:1P\',h.w)[0].22()}1V(1l){}},L=4(t){$()[t]("20",m)[t]("1Z",m)[t]("1Y",m)},m=4(e){7 h=H[A[A.Z-1]],r=(!$(e.v).1W(\'.1k\'+h.s)[0]);2(r)f(h);5!r},U=4(w,t,c){5 w.j(4(){7 s=3.9;$(t).j(4(){2(!3[c]){3[c]=[];$(3).1X(4(){R(7 i 1m{V:1,Q:1})2(3[i])R(7 s=0;s<3[i].Z;s++)2(H[3[i][s]])H[3[i][s]].w[i](3);5 F})}3[c].14(s)})})}})(2b);',62,136,'||if|this|function|return||var|pop|_pop||100||css|||cc|||each|fn|pop_close||else|||toTop|||||target||iframe||||overlay|height|onHide|document||window||ajax|ie6|width||html|onShow|body|index|pop_hide|for|trigger|onLoad|hs|pop_show|pop_trigger|ajaxText|opacity|length|popP|close|extend|false|push|browser|params|scroll|remove|div|modal|style|hash|event|position|span|addClass|overlayClass|prepend|closeClass|pop_id|_|in|open|attr|load|string|substring|substr|call|absolute|fixed|left|top|3000|parseInt|50|pop_overlay|pop_modal|true|bind|toLowerCase|documentElement|px|setExpression|Left|prependTo|Top|typeof|version|input|visible|try|class|javascript|write|before|catch|parents|click|mousedown|keydown|keypress|src|focus|show|after|insertAfter|XMLHttpRequest|id|hide|unbind|msie|jQuery'.split('|'),0,{}));XJ.Config = XJ.Config || {};XJ.Config.Msg = {timeout:2000};eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1m.1k=3(a){3 m(b){4 d=B;h||(h=a(e.1A)),"O"==b&&(f=a(e.1e),f.I({T:"S"}).1d(e.16),f.1h({1j:!0,1r:1o,1n:"1f",M:a.1B(3(a){4 b=e.M;b&&b(),e.K&&1D(e.K),e=c,a.w.10({Z:"11",13:"11"}),a.o&&a.o.1t(),k=!1},d),H:3(a){4 b=e.H;b&&b(),a.w.10({Z:"12",13:"12"})}})),"P"==b&&(g=a(e.1g),g.I({T:"S"}).1d(e.16),g.1h({1j:!0,1r:1o,1n:"1f",M:a.1B(3(a){4 b=e.M;b&&b(),e.K&&1D(e.K),e=c,a.w.10({Z:"11",13:"11"}),a.o&&a.o.1t(),k=!1},d),H:3(a){4 b=e.H;b&&b(),a.w.10({Z:"12",13:"12"})}}))}3 n(a,b){4 c="3"==E b?b.1L(B):b;a.9(".R .5 Q")[e.1b?"1b":"1U"](c)}3 o(a,b){4 c=a.9(".1c");b.G?0==c.19&&(a.9(".R").1J(h),a.1H("8[18^=R] .1c")):c.19>0&&h.1W()}3 p(a,b){a.9(".C-U").1x("V",3(){a.N();4 c=b.1X;c&&c()}),a.9(".C-1v").1x("V",3(){a.9(".C-U").1l("V"),a.N();4 c=b.1V;c&&c()})}3 q(b){4 d="L"==E b?b:{5:b};W(d.X="O",k)7 l.1y(d),s(),Y 0;i?f.I({T:"S"}):(m("O"),i=!0),e=a.D({},c,d),o(f,e),n(f,e.5);4 g=f.1w();k=!0,f.I({"1C-1F":0-g/2+"1E"}).1s(),e.J&&(e.K=14(3(){f.N()},e.17))}3 r(b){4 f="L"==E b?b:{5:b};W(f.X="P",k)7 l.1y(f),s(),Y 0;j?g.I({T:"S"}):(m("P"),j=!0),e=a.D({},c,d,f),o(g,e),n(g,e.5),p(g,e);4 h=g.1w();k=!0,g.I({"1C-1F":0-h/2+"1E"}).1s(),e.J&&(e.K=14(3(){g.N()},e.17))}3 s(){4 a=l.19;W(a>0)W(k)14(s,1T);1S{4 b=l[0];l.1R(0,1),"O"===b.X?q(b):r(b)}}3 t(a){7 q(a),B}3 u(a){r(a)}3 v(){7 f&&f.N(),B}3 w(){7 g&&(g.9(".C-U").1l("V"),g.N()),B}3 x(b){4 c="L"==E b?b:{5:b};c=a.D({},{5:"\\1Q\\1Y\\1O\\1I\\1P\\1K...",1N:1M,J:!1},c);4 d=c.H;c.H=3(){f.9(".F").27("F-1a"),d&&d()};4 e=c.M;7 c.M=3(){f.9(".F").2k("F-1a"),e&&e()},q(c),B}3 y(b){4 c="L"==E b?b:{5:b};7 c=a.D({},{5:"\\1q\\1p\\2l\\2j",G:!0},c),q(c),B}3 z(b){4 c="L"==E b?b:{5:b};7 c=a.D({},{5:"\\1q\\1p\\2i\\2g",G:!0},c),q(c),B}3 A(b){i&&k&&v();4 c="L"==E b?b:{5:b};7 c=a.D({},{J:!1,G:!0,X:"O"},c),k?(l.1Z(c),s()):q(c),B}4 e,f,g,h,c={16:"2e",17:24,G:!1,J:!0,1e:\'<8 6="1i" 18="2f"><8 6="R"><p 6="5"><i 6="F"></i><Q></Q></p></8></8>\',1g:\'<8 6="1i" 18="25"><8 6="R"><1G 6="5"><i 6="F"></i><Q></Q></1G><p 6="23"><a 1z="1u:Y(0);" 6="C C-U">\\22\\20</a> <a 1z="1u:Y(0);" 6="C C-1v">\\21\\26</a></p></8></8>\',1A:\'<15 2d="15" 6="1c" 2b-2a="P">\\28</15>\',5:"",1b:!1},d={G:!0,J:!1},i=!1,j=!1,k=!1,l=[];7 e=a.D(c,1m.2o.1k||{}),{O:t,2m:v,P:u,2n:w,2h:y,29:z,2c:A,1a:x}}(2p);',62,150,'|||function|var|txt|class|return|div|find||||||||||||||||||||||||||||this|btn|extend|typeof|icon|isShowClose|onShow|css|isAutoClose|_out|object|onHide|pop_hide|info|alert|span|xj_msg|none|display|sure|click|if|_t|void|opacity|animate|hide|show|height|setTimeout|button|container|timeout|id|length|wait|html|close|appendTo|infoMarkup|pop_overlay|alertMarkup|pop|pop_msg_layer|modal|Msg|unbind|XJ|overlayClass|30|u4f5c|u64cd|overlay|pop_show|remove|javascript|cancel|width|one|push|href|closeMarkup|proxy|margin|clearTimeout|px|left|h4|pop_close|u529b|prepend|u7406|call|100|time|u52aa|u5904|u6b63|splice|else|500|text|onCancel|detach|onOk|u5728|unshift|u5b9a|u53d6|u786e|opt|3e3|xj_msg_alert|u6d88|addClass|u00d7|fail|dismiss|data|warn|type|body|xj_msg_info|u8d25|success|u5931|u529f|removeClass|u6210|closeInfo|closeAlert|Config|jQuery'.split('|'),0,{}));eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('q p(){}p.o=["","","1K","1n/1i","1e","1J","1n/1i","1L","1e","","\\1M\\1N\\1I\\1H\\1D\\1C\\1E\\1F...","\\1l\\1k\\1G\\1O\\1a\\N\\1P\\I\\1X\\1Y\\1Z\\2a","\\1l\\1k\\1W\\1V\\1a\\N\\1B\\1R\\1Q\\I\\1S","Q/x-W-X-Y; V=U-8","","1T","Q/x-W-X-Y; V=U-8","","1U","2b",":{ ",", ","}","1q",\': "\',"",\'"\',": ","",", "],p.s=p.1g,p.s.1z=$.u.E&&"6.0"==$.u.D&&!1s.1w,p.s.1x=$.u.E&&"7.0"==$.u.D,p.s.1u=$.u.E&&9>1t($.u.D),p.s.1y=q(a){r b=p.o,c=S,d=c.J(b[2]);1A(d.z=b[3],d.1d=!0,d.1h)d.1h.1p=a;1o{r e=c.1r(a);d.v(e)}r f=c.Z(b[4]);f.B?f[0].v(d):c.1b.v(d)},p.s.1v=q(a){r b=p.o,c=S,d=c.J(b[5]);d.z=b[6],d.2s=b[7],d.2v=a,d.1d=!0;r e=c.Z(b[8]);e.B?e[0].v(d):c.1b.v(d)},p.s.2u=q(a){r b=p.o;t!(2w==a||b[9]==a||2t(a))},p.s.C=q(a){r c,d,b=p.o,e=!1,f=!1,g=q(){c=1c(q(){e=!0,w.A.2c(b[10])},2q),d=1c(q(){f=!0,w.A.T(b[11])},2h)},h=q(){e||1j(c),f||1j(d),(e||f)&&w.A.2i()},i=a.P,j=q(){h(),i&&i.F(G,y)};i&&(a.P=j);r k=a.R,l=q(){h(),w.A.T(b[12]),k&&k.F(G,y)};k&&(a.R=l);r m=b[13],n={K:b[14],H:{},z:b[15],L:m,O:!1,2r:g},o=$.M({},n,a);t $.C(o)},p.s.2g=q(a){r b=p.o,c=b[16],d={K:b[17],H:{},z:b[18],L:c,O:!1},e=$.M({},d,a);t $.C(e)},p.s.2f=q(a){r b=p.o,c=q(a){r c,d=[];2d(r e 2e a)a.2j(e)&&(c=a[e],d[d.B]=c&&b[19]==1f c?e+b[20]+y.2k(c).1m(b[21])+b[22]:b[23]==1f c?[e+b[24]+(b[25]+c)+b[26]]:[e+b[27]+(b[28]+c)]);t d};t c(a).1m(b[29])},p.s.2p=q(a){r b=G,c=2o.1g.2n.2l(y);t c.2m(),q(){t a.F(b,c)}};',62,157,'|||||||||||||||||||||||||Hebe|function|var|fn|return|browser|appendChild|XJ||arguments|type|Msg|length|ajax|version|msie|apply|this|data|u8bd5|createElement|url|contentType|extend|u8bf7|cache|success|application|error|document|warn|utf|charset|www|form|urlencoded|getElementsByTagName|||||||||||uff0c|documentElement|setTimeout|async|head|typeof|prototype|styleSheet|css|clearTimeout|u7edc|u7f51|join|text|else|cssText|string|createTextNode|window|Number|ie8|addCss|XMLHttpRequest|ie7|addStyle|ie6|if|u7a0d|u8f7d|u52a0|u6570|u636e|u7e41|u4f60|u4e3a|link|style|stylesheet|u6b63|u5728|u5fd9|u5c1d|u518d|u540e|u3002|GET|POST|u8bef|u9519|u5237|u65b0|u9875|||||||||||u9762|object|wait|for|in|toString|load|25e3|closeInfo|hasOwnProperty|callee|call|shift|slice|Array|px|1e3|beforeSend|rel|isNaN|isNum|href|null'.split('|'),0,{}));var T = new Hebe();T.addStyle('.pop_overlay{background-color:#000}* iframe.pop{position:absolute;top:0;left:0;z-index:-1;width:expression(this.parentNode.offsetWidth+"px");height:expression(this.parentNode.offsetHeight+"px")}.pop_msg_layer{position:fixed;left:50%;top:200px;margin-left:-100px;z-index:3001;display:none}* html .pop_msg_layer{position:absolute;top:expression((document.documentElement.scrollTop||document.body.scrollTop)+Math.round(17 * (document.documentElement.offsetHeight||document.body.clientHeight) / 100)+"px")}.xj_msg{font-size:14px;line-height:20px;width:auto;max-width:350px;*width:350px;height:auto;overflow:hidden;padding:23px 35px 18px 25px;margin:0;color:#333;text-shadow:0 1px 0 rgba(255,255,255,0.5);background-color:#fff;border-color:#999;border-style:solid;border-width:2px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.xj_msg a{text-decoration:none}.xj_msg a:hover{text-decoration:none}.xj_msg p{margin:15px 0 0}.xj_msg .txt{color:#4D3525;font-weight:bold;padding-right:20px;margin:0}.xj_msg .opt{text-align:right;margin-bottom:3px}.xj_msg h4{color:#665D54;margin:0;font-size:14px;line-height:25px;font-family:inherit;font-weight:bold;text-rendering:optimizelegibility;padding-right:20px}.xj_msg .close{position:relative;_position:absolute;top:-20px;_top:-5px;right:-24px;_right:-2px;line-height:20px;padding:0;cursor:pointer;border:0;-webkit-appearance:none;filter:alpha(opacity=20);background:#fff;float:right;font-size:20px;font-weight:bold;color:black;text-shadow:0 1px 0 white;opacity:0.2;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;margin:0;vertical-align:middle}.xj_msg .icon{display:inline-block;width:36px;height:24px;margin-top:-4px;*margin-right:.3em;line-height:14px;vertical-align:text-top;background-image:url("/OurHome/style/workplace/images/info_icon.gif");background-repeat:no-repeat;color:#000;text-shadow:0 1px 0 rgba(255,255,255,0.5)}.xj_msg .icon-wait{background-image:url("/OurHome/style/workplace/images/load_18.gif");background-position: 0 0;}.xj_msg .btn{display:inline-block;*display:inline;padding:4px 14px;margin-bottom:0;*margin-left:.3em;font-size:14px;line-height:20px;*line-height:20px;color:#333333;text-align:center;text-shadow:0 1px 1px rgba(255,255,255,0.75);vertical-align:middle;cursor:pointer;background-color:#f5f5f5;*background-color:#e6e6e6;background-image:-webkit-gradient(linear,0 0,0 100%,from(#ffffff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#ffffff,#e6e6e6);background-image:-o-linear-gradient(top,#ffffff,#e6e6e6);background-image:linear-gradient(to bottom,#ffffff,#e6e6e6);background-image:-moz-linear-gradient(top,#ffffff,#e6e6e6);background-repeat:repeat-x;border:1px solid #bbbbbb;*border:0;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-bottom-color:#a2a2a2;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;filter:progid:dximagetransform.microsoft.gradient(startColorstr="#ffffffff",endColorstr="#ffe6e6e6",GradientType=0);filter:progid:dximagetransform.microsoft.gradient(enabled=false);*zoom:1;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05)}.xj_msg .btn{border-color:#c5c5c5;border-color:rgba(0,0,0,0.15) rgba(0,0,0,0.15) rgba(0,0,0,0.25)}.xj_msg .btn-sure{color:#ffffff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#0074cc;*background-color:#0055cc;background-image:-ms-linear-gradient(top,#0088cc,#0055cc);background-image:-webkit-gradient(linear,0 0,0 100%,from(#0088cc),to(#0055cc));background-image:-webkit-linear-gradient(top,#0088cc,#0055cc);background-image:-o-linear-gradient(top,#0088cc,#0055cc);background-image:-moz-linear-gradient(top,#0088cc,#0055cc);background-image:linear-gradient(top,#0088cc,#0055cc);background-repeat:repeat-x;border-color:#0055cc #0055cc #003580;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);filter:progid:dximagetransform.microsoft.gradient(startColorstr="#0088cc",endColorstr="#0055cc",GradientType=0);filter:progid:dximagetransform.microsoft.gradient(enabled=false)}.xj_msg .btn-sure:hover,.xj_msg .btn-sure:active,.xj_msg .btn-sure.active,.xj_msg .btn-sure.disabled,.xj_msg .btn-sure[disabled]{color:#ffffff;background-color:#003580;*background-color:#003580}.xj_msg .btn-sure:active,.xj_msg .btn-sure.active{background-color:#003580 \\9}');eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('l.j={i:1(a){2 b=3,c=7.9.6.8(4);0 c.g(),1(){0 a.5(b,c)}},k:1(a){2 b=3;0 1(c){0 c.f(),c.e(),a.5(b,4)}},h:1(a){2 b=3,c=7.9.6.8(4);0 c.g(),1(d){0 d.f(),d.e(),a.5(b,c)}}},l.j={i:1(a){2 b=3,c=7.9.6.8(4);0 c.g(),1(){0 a.5(b,c)}},k:1(a){2 b=3;0 1(c){0 c.f(),c.e(),a.5(b,4)}},h:1(a){2 b=3,c=7.9.6.8(4);0 c.g(),1(d){0 d.f(),d.e(),a.5(b,c)}}};',22,22,'return|function|var|this|arguments|apply|slice|Array|call|prototype|||||stopPropagation|preventDefault|shift|epx|px|Event|ex|XJ'.split('|'),0,{}));

!function ($,E,opt) {
    "use strict";
    var PopPage = function (element, options) {
        this.options = $.extend({}, $.fn.gwt_poppage.defaults, options)
        this.$element = $(element)
        //this.$element.on('click.poppage.data-api', $.proxy(this.fire, this))
        this.$element.on('click.poppage.data-api', this.ex(this.fire))
    }
    PopPage.fn = PopPage.prototype;
    PopPage.fn.ex = E.ex;
    PopPage.fn.px = E.px;
    PopPage.fn.check_param = function () {
        if(!this.options.page || $.trim(this.options.page)==''){
            return false;
        }
        this.options.title = this.options.title || '';
        //this.options.url = '/templates/merchant/'+ opt.folder +'/design/' + this.options.page + '.jsp?merchantId='+ opt.mid + '&columnId=' + opt.cid
        this.options.url = '/OurHome/modules/template_v3/Design.jsp?merchantId=';
        if(this.options.page=='channel'){
            this.options.url = '/OurHome/modules/template_v3/Topic.jsp?merchantId=';
        }
        this.options.url = this.options.url+ opt.mid + '&columnId=' + opt.cid + '&templateId=' + opt.tid + '&styleId=' + opt.sid+ '&page=' + this.options.page
        if(this.options.page=='channel'){
            this.options.url = this.options.url + '&channelId=' + this.options.cid;
        }
        return true;
    }

    PopPage.fn.fire = function () {
        if(this.check_param()){
            window.parent.fire_pop_page(this.options.title,this.options.url);
        }
    }

    $.fn.gwt_poppage = function (option) {
        return this.each(function () {
            var $this = $(this)
                    , data = $this.data('poppage')
                    , options = typeof option == 'object' && option
            if (!data) $this.data('poppage', (data = new PopPage(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    $.fn.gwt_poppage.Constructor = PopPage

    $.fn.gwt_poppage.defaults = {
        offset: 0
    }


    /* POPPAGE DATA-API
     * ============== */

    $(function () {
        $('[data-gwt="poppage"]').each(function () {
            var $gwt = $(this)
                    , data = $gwt.data()

            data = data || {}
            //data.title = $gwt.attr('title');
            $gwt.gwt_poppage(data)
        })
    })


}(window.jQuery,XJ.Event,window.Args);



!function ($,E,opt) {
    "use strict";
    var Channel = function (element, options) {
        this.options = $.extend({}, $.fn.gwt_channel.defaults, options)
        this.$element = $(element)
        this.$element.on('click.channel.data-api', this.ex(this.fire))
    }
    Channel.fn = Channel.prototype;
    Channel.fn.ex = E.ex;
    Channel.fn.px = E.px;
    Channel.fn.check_param = function () {
        if(!this.options.cid || $.trim(this.options.cid)==''){
            return false;
        }
        this.options.title = this.options.title || '';
        return true;
    }

    Channel.fn.fire = function () {
        if(this.check_param()){
            window.parent.fire_channel_add(this.options.cid,this.options.title);
        }
    }

    $.fn.gwt_channel = function (option) {
        return this.each(function () {
            var $this = $(this)
                    , data = $this.data('channel')
                    , options = typeof option == 'object' && option
            if (!data) $this.data('channel', (data = new Channel(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    $.fn.gwt_channel.Constructor = Channel

    $.fn.gwt_channel.defaults = {
        offset: 0
    }


    /* CHANNEL DATA-API
     * ============== */

    $(function () {
        $('[data-gwt="channel"]').each(function () {
            var $gwt = $(this)
                    , data = $gwt.data()

            data = data || {}
            //data.title = $gwt.attr('title');
            $gwt.gwt_channel(data)
        })
    })


}(window.jQuery,XJ.Event,window.Args);




!function ($,E,opt,Msg) {
    "use strict";
    var DelPage = function (element, options) {
        this.options = $.extend({}, $.fn.gwt_delpage.defaults, options)
        this.$element = $(element)
        this.$element.on('click.delpage.data-api', this.ex(this.fire))
    }
    DelPage.fn = DelPage.prototype;
    DelPage.fn.ex = E.ex;
    DelPage.fn.px = E.px;
    DelPage.fn.check_param = function () {
        if(!this.options.cid || $.trim(this.options.cid)==''){
            return false;
        }
        this.options.title = this.options.title || '页面';
        return true;
    }

    DelPage.fn.fire = function () {
        var self = this;
        if(self.check_param()){
            var t = '删除页面将连同页面装修的内容一起删除，且不可恢复。确定删除'+self.options.title+'吗？'
            Msg.alert({
                txt:t,
                onOk:this.px(function(){
                    var self = this;
                    var data = {};
                    data.merchantId = opt.mid;
                    data.columnId = opt.cid;
                    data.channelId = self.options.cid;
                    var setting = {};
                    setting.data = data;
                    setting.type = 'POST';
                    setting.url = self.options.aim_del;
                    setting.success = function(data) {
                        var result = $.trim(data);
                        if(/^ok/.test(result)){
                            $('#'+self.options.cid).fadeOut('slow',function(){
                                $(this).remove();
                            });
                        }
                    };
                    T.ajax(setting);

                })
            });
        }
    }

    $.fn.gwt_delpage = function (option) {
        return this.each(function () {
            var $this = $(this)
                    , data = $this.data('delpage')
                    , options = typeof option == 'object' && option
            if (!data) $this.data('delpage', (data = new DelPage(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    $.fn.gwt_delpage.Constructor = DelPage

    $.fn.gwt_delpage.defaults = {
        aim_del: '/OurHome/modules/template_v3/action/ChannelDelete.jsp'
    }


    /* DELPAGE DATA-API
     * ============== */

    $(function () {
        $('[data-gwt="delpage"]').each(function () {
            var $gwt = $(this)
                    , data = $gwt.data()

            data = data || {}
            //data.title = $gwt.attr('title');
            $gwt.gwt_delpage(data)
        })
    })


}(window.jQuery,XJ.Event,window.Args,XJ.Msg);






$(function () {
    $.fn.tooltip.defaults = {
      animation: true
    , placement: 'right'
    , selector: false
    , template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'
    , trigger: 'hover'
    , title: ''
    , delay: 0
    , html: true
    }
    $('[data-toggle="tooltip"]').each(function () {
        var $gwt = $(this)
                , data = $gwt.data()

        data = data || {}
        //data.title = $gwt.attr('title');
        $gwt.tooltip(data)
    })
})

